---
<(META)>:
	DOCid: <^[uuid]^>
	name:
	description: >
	expirary: <[expiration]>
	version: <[version]>
	path: <[LEXIvrs]>sql.yaml
	outline: <[outline]>
	authority: document|this
	security: seclvl2
	<(WT)>: -32

get_loggedin_user:
	text: >
		SELECT * FROM user WHERE id = ?
test_user_name:
	text: >
		SELECT id FROM user WHERE username = ?
login_user:
	text: >
		SELECT * FROM user WHERE username = ?
register_new_user:
	text: >
		INSERT INTO user (username, password) VALUES (?, ?)
get_all_posts:
	text: >
		SELECT
			p.id,
			title,
			body,
			created,
			author_id,
			username
		FROM post p
		INNERJOIN user u ON p.author_id = u.id'
		ORDER BY
		created DESC'
get_post:
	text: >
		SELECT
			p.id,
			title,
			body,
			created,
			author_id,
			username
		FROM post p
		INNERJOIN user u ON p.author_id = u.id
		WHERE p.id = ?
create_post:
	text: >
		INSERT INTO post (
			title,
			body,
			author_id
		) VALUES (?, ?, ?)
update_post:
	text: >
		UPDATE post SET title = ?,
		body = ? WHERE id = ?
delete_post:
	text: >
		DELETE FROM post WHERE id = ?





